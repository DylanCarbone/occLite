% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/prep_occ_data.R
\name{prep_occ_data}
\alias{prep_occ_data}
\title{Prepare species Observation Data}
\usage{
prep_occ_data(data)
}
\arguments{
\item{data}{A dataframe containing species observation data with at least the columns \code{tik}, \code{GRIDREF}, and \code{lower_date}.}
}
\value{
A cleaned and enriched data frame with spatial coordinates, region info, date parts, and list length values.
}
\description{
This function reads and preprocesses species observation data by renaming columns, formatting dates,
converting grid references to monads, obtaining the grid region (England, Wales, Scotland, or Northern Ireland), converting to northing and easting, and computing list lengths
per grid reference and date.
}
\details{
This function performs several steps to standardise and enhance a species dataset:
\itemize{
\item Renames \code{tik} to \code{species}, \code{GRIDREF} to \code{gridref}, and \code{lower_date} to \code{date}.
\item Extracts year and day-of-year (\code{Year} and \code{yday}) using \code{lubridate}.
\item Converts grid references to standardised monads and filters out invalid ones.
\item Converts monads to northing and easting values.
\item Uses reference dataframe to assign region names
\item Filters out unmatched records and ensures region and spatial data are present.
\item Calls \code{add_dates()} to add any date-related columns.
\item Computes \code{listL}, the number of unique species per \code{gridref} and \code{date}.
}
}
